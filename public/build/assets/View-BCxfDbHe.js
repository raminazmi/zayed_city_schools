import{u as o,r as i,j as e,S,A as c}from"./app-DrYGkpmb.js";import{A as w}from"./AuthenticatedLayout-DH1WOUyn.js";import{B as v}from"./Breadcrumb-D-yvS0r1.js";import{D as B}from"./DataTable-DNMqza36.js";import{t as M}from"./index-CfQLVbGg.js";import{P as A}from"./PrimaryButton-CHSvh-7U.js";import{M as C}from"./Modal-Ci7YKdA6.js";import{D as E}from"./DangerButton-DohjTQwf.js";import{S as $}from"./SecondaryButton-DNJo25oV.js";import"./ApplicationLogo-D0gAqrgm.js";import"./transition-pEnpc1Cw.js";function J({auth:m,students:u,classes:n,classId:x}){const p=o(t=>t.theme.darkMode==="dark"),h=o(t=>t.language.current),s=M[h],r=n.find(t=>t.id),b=[{label:s.student_management,href:"/admin/dashboard/students"},{label:r?r.name:"-"},{label:s.list}],f=[{key:"student_number",label:s.student_number,sortable:!0},{key:"student_name",label:s.student_name,sortable:!0},{key:"parent_whatsapp",label:s.parent_whatsapp,sortable:!0},{key:"class_description",label:s.class_description,sortable:!0},{key:"section_number",label:s.section_number,sortable:!0},{key:"path",label:s.path,sortable:!0}],_=u.data.map(t=>(n.find(N=>N.id===t.class_id),{id:t.id,student_number:t.student_number,student_name:t.name,parent_whatsapp:t.parent_whatsapp,class_description:t.class_description,section_number:t.section_number,path:t.path})),j=t=>{c.get(`/admin/dashboard/students/${t.id}/edit`)},[g,a]=i.useState(!1),[y,l]=i.useState(null),k=t=>{l(t),a(!0)},D=()=>{c.delete(`/admin/dashboard/students/${y.id}`,{onSuccess:()=>{a(!1),l(null)}})},d=()=>{a(!1),l(null)};return e.jsxs(w,{user:m.user,children:[e.jsx(S,{title:s.students}),e.jsx("div",{className:"flex",style:{height:"calc(100vh - 66px)"},children:e.jsx("main",{className:"flex-1 overflow-y-auto",children:e.jsxs("div",{className:"py-6",children:[e.jsxs("div",{className:"mx-auto px-4 sm:px-6 md:px-14",children:[e.jsx(v,{items:b}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl  mt-3 font-bold text-primaryColor",children:s.students}),e.jsx(A,{children:s.add_student,link:`/admin/dashboard/students/add-new-student?id=${x}`})]})]}),e.jsx("div",{className:"mx-auto px-4 sm:px-6 md:px-8 mt-6",children:e.jsx(B,{columns:f,data:_,searchable:!0,filterable:!0,selectable:!0,actions:!0,onEdit:j,onDelete:k})})]})})}),e.jsx(C,{show:g,onClose:d,children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:`text-lg font-medium ${p?"text-TextLight":"text-TextDark"}`,children:s.confirm_delete}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:s.delete_student_confirmation}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx($,{onClick:d,className:"mx-2 bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-500",children:s.cancel}),e.jsx(E,{onClick:D,className:"bg-red-600 hover:bg-red-700 focus:ring-red-600",children:s.delete})]})]})})]})}export{J as default};
