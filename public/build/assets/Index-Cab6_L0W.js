import{u as c,r as i,j as e,S as k,A as r}from"./app-DrYGkpmb.js";import{A as w}from"./AuthenticatedLayout-DH1WOUyn.js";import{B as C}from"./Breadcrumb-D-yvS0r1.js";import{D as A}from"./DataTable-DNMqza36.js";import{t as B}from"./index-CfQLVbGg.js";import{P as d}from"./PrimaryButton-CHSvh-7U.js";import{M}from"./Modal-Ci7YKdA6.js";import{D as P}from"./DangerButton-DohjTQwf.js";import{S as E}from"./SecondaryButton-DNJo25oV.js";import{u as T}from"./index-B_FvpBn_.js";import"./ApplicationLogo-D0gAqrgm.js";import"./transition-pEnpc1Cw.js";function U({auth:m,classes:x}){const u=c(s=>s.theme.darkMode==="dark"),h=c(s=>s.language.current),a=B[h],[p,t]=i.useState(!1),[f,l]=i.useState(null),b=[{label:a.classroom_management,href:"/admin/dashboard/classes"},{label:a.list}],j=[{key:"class_name",label:a.class_name,sortable:!0},{key:"teacher_name",label:a.teacher_name,sortable:!0},{key:"section",label:a.section,sortable:!0}],g=x.data.map(s=>({id:s.id,class_name:s.name,teacher_name:s.teacher?s.teacher.name:"N/A",section:s.section})),D=s=>{r.get(`/admin/dashboard/classes/${s.id}/edit`)},N=s=>{l(s),t(!0)},v=()=>{r.delete(`/admin/dashboard/classes/${f.id}`,{onSuccess:()=>{t(!1),l(null)}})},o=()=>{t(!1),l(null)},{getRootProps:y,getInputProps:_}=T({accept:".xlsx, .xls",onDrop:s=>{const S=s[0],n=new FormData;n.append("file",S),r.post("/admin/dashboard/classes/import",n,{onSuccess:()=>{window.location.reload()}})}});return e.jsxs(w,{user:m.user,children:[e.jsx(k,{title:a.classes}),e.jsx("div",{className:"flex",style:{height:"calc(100vh - 66px)"},children:e.jsx("main",{className:"flex-1 overflow-y-auto",children:e.jsxs("div",{className:"py-6",children:[e.jsxs("div",{className:"mx-auto px-4 sm:px-6 md:px-14",children:[e.jsx(C,{items:b}),e.jsxs("div",{className:"flex justify-between items-center mt-3",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl  mt-3 font-bold text-primaryColor",children:a.classes}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(d,{children:a.add_class,link:"/admin/dashboard/classes/add-new-class"}),e.jsxs("div",{...y(),className:"cursor-pointer",children:[e.jsx("input",{..._()}),e.jsx(d,{children:a.import_classes})]})]})]})]}),e.jsx("div",{className:"mx-auto px-4 sm:px-6 md:px-8 mt-6",children:e.jsx(A,{columns:j,data:g,searchable:!0,filterable:!0,selectable:!0,actions:!0,onEdit:D,onDelete:N})})]})})}),e.jsx(M,{show:p,onClose:o,children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:`text-lg font-medium ${u?"text-TextLight":"text-TextDark"}`,children:a.confirm_delete}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:a.delete_class_confirmation}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx(E,{onClick:o,className:"mx-2 bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-500",children:a.cancel}),e.jsx(P,{onClick:v,className:"bg-red-600 hover:bg-red-700 focus:ring-red-600",children:a.delete})]})]})})]})}export{U as default};
