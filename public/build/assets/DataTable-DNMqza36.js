import{r as a,u as b,j as e}from"./app-DrYGkpmb.js";import{t as D}from"./index-CfQLVbGg.js";import{F as M,a as F}from"./Breadcrumb-D-yvS0r1.js";function _({title:r,titleId:s,...l},i){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":s},l),r?a.createElement("title",{id:s},r):null,a.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const H=a.forwardRef(_);function P({title:r,titleId:s,...l},i){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":s},l),r?a.createElement("title",{id:s},r):null,a.createElement("path",{fillRule:"evenodd",d:"M9.47 6.47a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 1 1-1.06 1.06L10 8.06l-3.72 3.72a.75.75 0 0 1-1.06-1.06l4.25-4.25Z",clipRule:"evenodd"}))}const I=a.forwardRef(P);function U({title:r,titleId:s,...l},i){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":s},l),r?a.createElement("title",{id:s},r):null,a.createElement("path",{d:"M10 3a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM10 8.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM11.5 15.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0Z"}))}const q=a.forwardRef(U);function J({title:r,titleId:s,...l},i){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":s},l),r?a.createElement("title",{id:s},r):null,a.createElement("path",{fillRule:"evenodd",d:"M2.628 1.601C5.028 1.206 7.49 1 10 1s4.973.206 7.372.601a.75.75 0 0 1 .628.74v2.288a2.25 2.25 0 0 1-.659 1.59l-4.682 4.683a2.25 2.25 0 0 0-.659 1.59v3.037c0 .684-.31 1.33-.844 1.757l-1.937 1.55A.75.75 0 0 1 8 18.25v-5.757a2.25 2.25 0 0 0-.659-1.591L2.659 6.22A2.25 2.25 0 0 1 2 4.629V2.34a.75.75 0 0 1 .628-.74Z",clipRule:"evenodd"}))}const K=a.forwardRef(J);function W({title:r,titleId:s,...l},i){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":s},l),r?a.createElement("title",{id:s},r):null,a.createElement("path",{fillRule:"evenodd",d:"M9 3.5a5.5 5.5 0 1 0 0 11 5.5 5.5 0 0 0 0-11ZM2 9a7 7 0 1 1 12.452 4.391l3.328 3.329a.75.75 0 1 1-1.06 1.06l-3.329-3.328A7 7 0 0 1 2 9Z",clipRule:"evenodd"}))}const X=a.forwardRef(W);function Y({columns:r,selectable:s,sortConfig:l,onSort:i,onSelectAll:h,selectedRows:w,totalRows:u}){const g=b(d=>d.theme.darkMode==="dark"),p=b(d=>d.language.current);return e.jsx("thead",{className:` ${g?"bg-DarkBG3 text-TextLight":"bg-LightBG2 text-TextDark"} `,children:e.jsxs("tr",{className:` ${p==="en"?"!text-left":"!text-right"}`,children:[s&&e.jsx("th",{scope:"col",className:"relative px-6 py-3",children:e.jsx("input",{type:"checkbox",className:"absolute left-4 top-1/2 -mt-2 h-4 w-4 rounded border-LightBG3 text-primaryColor focus:ring-primaryColor",checked:w.size===u&&u>0,onChange:d=>h(d.target.checked)})}),r.map(d=>e.jsx("th",{scope:"col",className:"px-2 py-3 text-xs font-medium uppercase tracking-wider",children:d.sortable?e.jsxs("button",{className:"group inline-flex items-center space-x-1",onClick:()=>i(d.key),children:[e.jsx("span",{children:d.label}),e.jsx("span",{className:"flex-none rounded",children:(l==null?void 0:l.key)===d.key?l.direction==="asc"?e.jsx(I,{className:"h-4 w-4 text-IconColor"}):e.jsx(H,{className:"h-4 w-4 text-IconColor"}):e.jsx(I,{className:"h-4 w-4 opacity-0 group-hover:opacity-50 text-IconColor"})})]}):d.label},d.key)),e.jsx("th",{scope:"col",className:"px-6 py-3 text-xs font-medium uppercase tracking-wider"})]})})}function ee({row:r,columns:s,selectable:l,actions:i,selected:h,onSelect:w,onEdit:u,onDelete:g,onView:p,customActions:d,buttons:o}){const m=b(n=>n.theme.darkMode==="dark"),f=b(n=>n.language.current),[v,y]=a.useState(!1),j=D[f],N=a.useRef(null);a.useEffect(()=>{const n=C=>{N.current&&!N.current.contains(C.target)&&y(!1)};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[]);const k=()=>{const n=[];return d&&n.push(e.jsx("button",{onClick:()=>{d(r),y(!1)},className:`block w-full ${f==="en"?"text-left":"text-right"} px-4 py-2 text-sm ${m?"hover:bg-DarkBG3":"hover:bg-LightBG3"}`,children:j.mark_attendance},"custom")),p&&n.push(e.jsx("button",{onClick:()=>{p(r),y(!1)},className:`block w-full ${f==="en"?"text-left":"text-right"} px-4 py-2 text-sm ${m?"hover:bg-DarkBG3":"hover:bg-LightBG3"}`,children:j.View},"view")),u&&n.push(e.jsx("button",{onClick:()=>{u(r),y(!1)},className:`block w-full ${f==="en"?"text-left":"text-right"} px-4 py-2 text-sm ${m?"hover:bg-DarkBG3":"hover:bg-LightBG3"}`,children:j.edit},"edit")),g&&n.push(e.jsx("button",{onClick:()=>{g(r),y(!1)},className:`block w-full ${f==="en"?"text-left":"text-right"} px-4 py-2 text-sm text-red-500 ${m?"hover:bg-DarkBG3":"hover:bg-LightBG3"}`,children:j.delete},"delete")),n.length>0?e.jsx("div",{className:`absolute ${f==="en"?"right-6":"left-6"} mt-2 w-36 rounded-md shadow-lg ring-1 ring-opacity-5 z-10 ${m?"bg-DarkBG1 ring-LightBG3":"bg-LightBG1 ring-LightBG3"}`,children:e.jsx("div",{className:"py-1",children:n})}):null};return e.jsxs("tr",{className:`${h?m?`m-2 bg-DarkBG3 border-primaryColor ${f==="en"?"border-l-2":"border-r-2"}`:`bg-LightBG2 border-primaryColor ${f==="en"?"border-l-2":"border-r-2"}`:""} ${m?"text-TextLight hover:bg-DarkBG3":"text-TextDark hover:bg-LightBG3"} transition-colors`,children:[l&&e.jsx("td",{className:"relative px-6 py-4 sm:px-2 sm:py-2",children:e.jsx("input",{type:"checkbox",className:"absolute left-4 top-1/2 -mt-2 h-4 w-4 rounded border-DarkBG3 text-primaryColor focus:ring-primaryColor",checked:h,onChange:w})}),s.map(n=>e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm sm:px-2 sm:py-1 max-sm:text-[14px]",children:n.render?n.render(r[n.key],r):r[n.key]},n.key)),e.jsx("div",{className:"flex justify-betweeen items-start flex-wrap",children:o&&o.map((n,C)=>n.show&&n.show(r)&&e.jsxs("button",{onClick:()=>n.onClick(r),className:`m-1 px-2 py-2 flex ${n.disabled?"opacity-50 cursor-not-allowed":""} ${n.bgColor} border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:${n.hoverColor} focus:outline-none focus:ring-2 focus:${n.ringColor} focus:ring-offset-2 transition ease-in-out duration-150`,children:[n.icon,n.label]},C))}),(i||d)&&e.jsx("td",{className:`px-6 py-4 ${f==="en"?"text-right":"text-left"} whitespace-nowrap text-sm font-medium`,children:e.jsxs("div",{className:"relative",ref:N,children:[e.jsx("button",{onClick:()=>y(!v),className:`p-2 rounded-full ${m?"hover:bg-DarkBG2":"hover:bg-LightBG2"} ${v?m?"bg-DarkBG2":"bg-LightBG2":""}`,children:e.jsx(q,{className:"h-5 w-5 text-IconColor"})}),v&&k()]})})]})}function te({total:r,perPage:s,currentPage:l,onPageChange:i,onPerPageChange:h}){const w=b(o=>o.theme.darkMode==="dark"),u=b(o=>o.language.current),g=D[u],p=Math.ceil(r/s),d=u==="ar";return e.jsxs("div",{className:`flex flex-wrap items-center justify-between gap-2 mt-2 max-sm:my-6 max-sm:gap-4 max-sm:justify-center px-4 py-3 max-sm:px-2 max-sm:py-1 ${w?"bg-DarkBG1 text-TextLight divide-DarkBG1":"bg-LightBG1 text-TextDark divide-LightBG3"}`,children:[e.jsxs("div",{className:"flex justify-between items-center max-sm:justify-center gap-2 max-sm:gap-4 flex-wrap",children:[e.jsxs("span",{className:"text-sm max-sm:text-[14px] ",children:[g.showing," ",(l-1)*s+1," ",g.to," ",Math.min(l*s,r)," ",g.of," ",r," ",g.results]}),e.jsx("select",{value:s,onChange:o=>h(Number(o.target.value)),className:`mx-2 max-sm:mx-1 rounded-md border-[2px] ${w?"border-DarkBG3 bg-DarkBG3 text-TextLight":"border-LightBG3  bg-LightBG1 text-TextDark"} text-sm max-sm:text-[14px] focus:outline-none focus:ring-primaryColor focus:border-primaryColor`,children:[5,10,25,50].map(o=>e.jsxs("option",{value:o,children:[o," ",g.perPage]},o))})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>i(l-1),disabled:l===1,className:"p-1 rounded-md hover:bg-DarkBG3 disabled:opacity-50 disabled:cursor-not-allowed",children:d?e.jsx(M,{className:"h-5 w-5  max-sm:h-4 max-sm:w-4 text-IconColor"}):e.jsx(F,{className:"h-5 w-5  max-sm:h-4 max-sm:w-4 text-IconColor"})}),e.jsxs("span",{className:"text-sm  max-sm:text-[14px]",children:[g.page," ",l," ",g.of," ",p]}),e.jsx("button",{onClick:()=>i(l+1),disabled:l===p,className:"p-1 rounded-md hover:bg-DarkBG3 disabled:opacity-50 disabled:cursor-not-allowed",children:d?e.jsx(F,{className:"h-5 w-5 text-IconColor"}):e.jsx(M,{className:"h-5 w-5 text-IconColor"})})]})]})}function re({value:r,onChange:s,placeholder:l=t.search}){const i=b(h=>h.theme.darkMode==="dark");return b(h=>h.language.current),e.jsxs("div",{className:"relative flex-1 max-w-xs",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(X,{className:"h-5 w-5 text-IconColor"})}),e.jsx("input",{type:"text",value:r,onChange:h=>s(h.target.value),className:`block w-full pl-10 pr-3 py-2 max-sm:py-1 border rounded-md leading-5 ${i?"bg-DarkBG3 border-2 border-DarkBG3 text-TextLight":"bg-LightBG1 border-2 border-LightBG2 text-TextDark"}  focus:outline-none focus:ring-1 focus:ring-primaryColor focus:border-primaryColor sm:text-sm max-sm:text-[15px]`,placeholder:l})]})}function ae({columns:r,filters:s,onChange:l}){const i=b(o=>o.theme.darkMode==="dark"),[h,w]=a.useState(!1),u=b(o=>o.language.current),g=D[u],p=a.useRef(null),d=(o,m)=>{l({...s,[o]:m})};return a.useEffect(()=>{const o=m=>{p.current&&!p.current.contains(m.target)&&w(!1)};return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[]),e.jsxs("div",{className:"relative",ref:p,children:[e.jsxs("button",{onClick:()=>w(!h),className:`inline-flex items-center px-4 py-2 max-sm:py-1 max-sm:px-2 border rounded-md border-[2px] ${i?"bg-DarkBG3 border-DarkBG3 text-TextLight hover:bg-DarkBG1":"bg-LightBG1 border-LightBG2 text-TextDark hover:bg-LightBG2"}`,children:[e.jsx(K,{className:`h-5 w-5 max-sm:h-4 max-sm:w-4 text-IconColor ${u==="en"?"mr-2 ":"ml-2 "}`}),g.filters]}),h&&e.jsx("div",{className:`absolute ${u==="en"?"right-0":"left-0"} mt-2 w-64 rounded-md shadow-lg ${i?"bg-DarkBG3":"bg-LightBG3"} ring-1 ring-black ring-opacity-5 z-10`,children:e.jsx("div",{className:"p-4 space-y-4",children:r.map(o=>e.jsxs("div",{children:[e.jsx("label",{htmlFor:o.key,className:`block text-sm font-medium ${i?"text-TextLight":"text-TextDark"}`,children:o.label}),e.jsx("input",{type:"text",id:o.key,value:s[o.key]||"",onChange:m=>d(o.key,m.target.value),className:`mt-1 block w-full rounded-md ${i?"bg-DarkBG3 border-gray-700 text-gray-300":"bg-white border-gray-300 text-gray-900"} shadow-sm focus:ring-primaryColor focus:border-primaryColor sm:text-sm`})]},o.key))})})]})}function oe({columns:r,data:s,selectable:l=!0,actions:i=!0,onEdit:h,onDelete:w,onView:u,searchable:g=!0,filterable:p=!0,customActions:d,buttons:o=[]}){const[m,f]=a.useState(new Set),[v,y]=a.useState(""),[j,N]=a.useState({}),[k,n]=a.useState(null),[C,O]=a.useState(1),[G,Z]=a.useState(5),$=b(c=>c.theme.darkMode==="dark"),A=b(c=>c.language.current),E=D[A],R=a.useMemo(()=>{let c=[...s];return v&&(c=c.filter(x=>Object.values(x).some(B=>String(B).toLowerCase().includes(v.toLowerCase())))),Object.entries(j).forEach(([x,B])=>{B&&(c=c.filter(L=>String(L[x]).toLowerCase().includes(B.toLowerCase())))}),k&&c.sort((x,B)=>{const L=x[k.key],T=B[k.key];return L<T?k.direction==="asc"?-1:1:L>T?k.direction==="asc"?1:-1:0}),c},[s,v,j,k]),S=a.useMemo(()=>{const c=(C-1)*G;return R.slice(c,c+G)},[R,C,G]),V=c=>{n(x=>({key:c,direction:(x==null?void 0:x.key)===c&&x.direction==="asc"?"desc":"asc"}))},z=c=>{f(c?new Set(S.map((x,B)=>B)):new Set)},Q=c=>{const x=new Set(m);x.has(c)?x.delete(c):x.add(c),f(x)};return e.jsx("div",{className:`rounded-lg border m-4 max-sm:m-1 ${$?"bg-DarkBG1 border-DarkBG3":"bg-LightBG1 border-LightBG2"}`,children:e.jsxs("div",{className:"p-4 max-sm:p-2",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[g&&e.jsx(re,{value:v,onChange:y,placeholder:E.search}),p&&e.jsx(ae,{columns:r,filters:j,onChange:N})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:`min-w-full divide-y ${$?"divide-DarkBG1 ":"divide-LightBG3"}`,children:[e.jsx(Y,{columns:r,selectable:l,sortConfig:k,onSort:V,onSelectAll:z,selectedRows:m,totalRows:S.length}),e.jsx("tbody",{className:`divide-y ${$?"divide-DarkBG1 ":"divide-LightBG3"}`,children:S.map((c,x)=>e.jsx(ee,{row:c,columns:r,selectable:l,actions:i,selected:m.has(x),onSelect:()=>Q(x),onEdit:h,onDelete:w,onView:u,customActions:d,buttons:o,t:E},x))})]})}),e.jsx(te,{total:R.length,perPage:G,currentPage:C,onPageChange:O,onPerPageChange:Z})]})})}export{oe as D};
